{"version":3,"sources":["./src/app/page/medicamento/perfil/perfil-routing.module.ts","./src/app/page/medicamento/perfil/perfil.module.ts","./src/app/page/medicamento/perfil/perfil.page.ts","./src/app/page/medicamento/perfil/perfil.page.scss","./src/app/page/medicamento/perfil/perfil.page.html"],"names":[],"mappings":"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","file":"src_app_page_medicamento_perfil_perfil_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PerfilPage } from './perfil.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PerfilPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PerfilPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { PerfilPageRoutingModule } from './perfil-routing.module';\r\nimport { PerfilPage } from './perfil.page';\r\nimport { MedicamentoService } from '../medicamento.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PerfilPageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [PerfilPage],\r\n  providers: [MedicamentoService]\r\n})\r\nexport class PerfilPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { ModalController, ToastController } from '@ionic/angular';\r\nimport { LoadingPage } from 'src/app/loading/loading.page';\r\nimport { StorageService } from 'src/app/shared/class/storage.service';\r\nimport { UrlService } from 'src/app/shared/class/url-service';\r\nimport { MedicamentoService } from '../medicamento.service';\r\n\r\n@Component({\r\n  selector: 'app-perfil',\r\n  templateUrl: './perfil.page.html',\r\n  styleUrls: ['./perfil.page.scss']\r\n})\r\nexport class PerfilPage implements OnInit {\r\n\r\n  public user: any;\r\n  public usuario: any;\r\n  public loading: boolean;\r\n  public mensagem: string;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private storage: StorageService,\r\n    private urlService: UrlService,\r\n    public modalController: ModalController,\r\n    public toastController: ToastController,\r\n    private medicamentoService: MedicamentoService) {\r\n    this.loading = false;\r\n    this.router.events.subscribe((evt) => {\r\n      if (evt instanceof NavigationEnd && this.router.url === `/page/perfil`) {\r\n        this.loading = true;\r\n        this.pageEnter();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  async pageEnter(){\r\n    this.user = await this.storage.get('user');\r\n    const token = await this.storage.get('token');\r\n    await this.urlService.validateToken(token);\r\n    this.getUsuario();\r\n  }\r\n\r\n  async getUsuario(){\r\n    this.showLoadingScreen()\r\n      .then(async () => {\r\n        (await this.medicamentoService.getUsuario(this.user.id))\r\n          .subscribe((resp: any) => {\r\n            this.usuario = resp;\r\n          },\r\n          error => {\r\n            if(error.status === 401 || error.status === 403){\r\n              this.storage.remove('user');\r\n              this.router.navigateByUrl('');\r\n            }\r\n            else{\r\n              this.toastController.create({\r\n                message: error.error,\r\n                duration: 5000\r\n              }).then(toast => {\r\n                toast.present();\r\n              });\r\n            }\r\n          },\r\n          () => {\r\n            this.closeLoadingScreen();\r\n          });\r\n        });\r\n  }\r\n\r\n  public editarUsuario(){\r\n    this.router.navigateByUrl('page/editar-perfil');\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async showLoadingScreen() {\r\n    const loadingScreen = await this.modalController.create({\r\n      component: LoadingPage\r\n    });\r\n    return await loadingScreen.present();\r\n  }\r\n\r\n  async closeLoadingScreen() {\r\n    this.modalController.getTop().then(loader => {\r\n      if (loader) {\r\n        loader.dismiss();\r\n      }\r\n    });\r\n  }\r\n}\r\n","export default \".content {\\n  margin-top: 7vh;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.grid-content {\\n  padding-top: 2vh;\\n  width: 100%;\\n  position: fixed;\\n  background-color: #ffffff;\\n  z-index: 99;\\n}\\n\\n.bloco-card-content {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.bloco-tipo {\\n  color: black;\\n  margin-bottom: 18px;\\n}\\n\\n.nome {\\n  font-weight: bold;\\n}\\n\\n.botaoConfirmar {\\n  background-color: #60E677;\\n  width: 100%;\\n  height: 40px;\\n  color: aliceblue;\\n}\\n\\n.botaoDeletar {\\n  background-color: #f04800;\\n  width: 100%;\\n  height: 40px;\\n  color: aliceblue;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcmZpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQUNGIiwiZmlsZSI6InBlcmZpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVudHtcclxuICBtYXJnaW4tdG9wOiA3dmg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59XHJcblxyXG4uZ3JpZC1jb250ZW50e1xyXG4gIHBhZGRpbmctdG9wOiAydmg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbiAgei1pbmRleDogOTk7XHJcbn1cclxuXHJcbi5ibG9jby1jYXJkLWNvbnRlbnR7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4uYmxvY28tdGlwb3tcclxuICBjb2xvcjogYmxhY2s7XHJcbiAgbWFyZ2luLWJvdHRvbTogMThweDtcclxufVxyXG5cclxuLm5vbWV7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5ib3Rhb0NvbmZpcm1hcntcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjBFNjc3O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogNDBweDtcclxuICBjb2xvcjogYWxpY2VibHVlO1xyXG59XHJcblxyXG4uYm90YW9EZWxldGFye1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMDQ4MDA7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGNvbG9yOiBhbGljZWJsdWU7XHJcbn1cclxuIl19 */\";","export default \"<ion-content>\\r\\n  <div class=\\\"content\\\">\\r\\n    <ion-grid style=\\\"width: 100%;\\\" *ngIf=\\\"usuario\\\">\\r\\n      <ion-row>\\r\\n        <ion-card style=\\\"width: 100%; height: 100%;\\\">\\r\\n          <ion-card-content class=\\\"bloco-card-content\\\">\\r\\n            <ion-col class=\\\"bloco-tipo\\\" size=\\\"12\\\">\\r\\n              <span class=\\\"nome\\\">Nome: </span>\\r\\n              <span>{{usuario.nome}}</span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"bloco-tipo\\\" size=\\\"12\\\">\\r\\n              <span class=\\\"nome\\\" *ngIf=\\\"usuario.role === 'pessoa_fisica'\\\">CPF: </span>\\r\\n              <span class=\\\"nome\\\" *ngIf=\\\"usuario.role !== 'pessoa_fisica'\\\">CNPJ: </span>\\r\\n              <span>{{usuario.documento}}</span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"bloco-tipo\\\" size=\\\"12\\\">\\r\\n              <span class=\\\"nome\\\">Email: </span>\\r\\n              <span>{{usuario.email}}</span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"bloco-tipo\\\" size=\\\"12\\\">\\r\\n              <span class=\\\"nome\\\">Telefone: </span>\\r\\n              <span>{{usuario.telefone1}}</span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"bloco-tipo\\\" size=\\\"12\\\">\\r\\n              <span class=\\\"nome\\\">Telefone: </span>\\r\\n              <span>{{usuario.telefone2}}</span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"bloco-tipo\\\" size=\\\"12\\\">\\r\\n              <span class=\\\"nome\\\">Quantidades de Animais Doados: </span>\\r\\n              <span>{{usuario.quantAnimaisDoados}}</span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"bloco-tipo\\\" size=\\\"12\\\" *ngIf=\\\"usuario.role !== 'pessoa_fisica'\\\">\\r\\n              <span class=\\\"nome\\\">Quantidades de Servisos Cadastrados: </span>\\r\\n              <span>{{usuario.quantSevicosCadastrados}}</span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"bloco-tipo\\\" size=\\\"12\\\" *ngIf=\\\"usuario.role !== 'pessoa_fisica'\\\">\\r\\n              <span class=\\\"nome\\\">Quantidades de Produtos Cadastrados: </span>\\r\\n              <span>{{usuario.quantProdutosCadastrados}}</span>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"item-form-center\\\" size=\\\"12\\\">\\r\\n              <button (click)=\\\"editarUsuario()\\\" class=\\\"botaoConfirmar\\\" expand=\\\"block\\\">Editar Informações Cadastrais</button>\\r\\n            </ion-col>\\r\\n            <!-- <ion-col class=\\\"item-form-center\\\" size=\\\"12\\\">\\r\\n              <button (click)=\\\"deletarUsuario()\\\" class=\\\"botaoDeletar\\\" expand=\\\"block\\\">Deletar Conta</button>\\r\\n            </ion-col> -->\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}